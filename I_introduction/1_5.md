# Выражения и операторы Expressions and operators

expression-ы можно писачть только внутри функций
```c++
a + 5;
(--a * b << 3) + 1;
```

## Операторы
### Арифметические
```+ - * / %```
### Побитовые
```& | ^ ~ << >> ```
#### Сравнения
```== != < > <= >= (since c++20 <=>)```
### Логические
```&& || !```

В логических операторах, если по первому аргументу ясен результат, то второй не вычисляется
### Инкремент и декремент
```c++
++x;
x++;
--x;
x--;
```

разница в возвращаемых значениях (x++ возвращает исходное, ++x увеличенное)

### Присваивания
```c++
= += -= *= /= %= &= |= ^= <<= >>=
```
```c++
x += 5;
x = x + 5;
```
есть разница, так как в ```x = x + 5``` вычисляется сначала ```x + 5```, а потом ```=``` 

```c++
x = y += 5;
++x = x++;
```
### lvalue & rvalue
```c++
int x = 1; // Okay
x + 5 = 10; // wrong!!!
10 = x; // wrong!!!
(a = b) = c; // OK
(x + 5)++; // wrong!!!
(x = 5)++; // OK
```
```int x``` - lvalue  
```++x``` - lvalue  
```x++``` - rvalue  
```10``` - rvalue  
```x + 5``` - rvalue  
```(a = b)``` - lvalue  
#### ```int x = 5;``` - в данном случае ```=``` не оператор

### Тернарный оператор
```c++
a ? b : c;
```

```c++
if ( a == 1)
    x = 1;
else
    x = 2;
```
is same as
```c++
x = (a == 1 ? 1 : 2);
```

Тернарный оператор возвращает lvalue только если ОБА его операнда (b и с) - lvalue

### Оператор запятая.
``a, b;``

вычисляет левый операнд, забывает про него, потом правый и возвращает правый
```c++
x = 1, y = 5, ++z;
```

в случае ``f(x,y);`` запятая - не оператор

### Вызов функции.

``f(x);``

aka оператор круглые скобки ``()``

### Квадратные скобки.
``a[5] = 1;``

возвращает (зачастую) lvalue

### Оператор ``sizeof``

сколько байт занимает в памяти переменная 

```c++
int main() {
    int x = 1;
    bool b = true;
    std::cout << sizeof(++x) << x; // 41
    std::cout << sizeof(b); // 1
}
```
sizeof не вычисляет значение

### Приоритеты операторов 1-17